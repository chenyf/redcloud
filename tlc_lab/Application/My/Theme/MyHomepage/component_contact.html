<template id="component-contact">
    <div class="form-group row">
        <label class="col-md-2 col-lg-2 info-item-title">联系方式</label>
        <div class="col-md-1 col-lg-1">
            <div data-toggle="modal" data-target="#addContact" class="fs2 new-red" aria-hidden="true" data-icon="&#xe050;"></div>
        </div>

    </div>

    <div v-for="contact in contacts" class="form-group row">
        <label class="col-md-2 col-lg-2 control-label">[[ contact.key ]]</label>

        <div class="col-md-8 col-lg-8">
            <input class="form-control" v-model="contacts[$index].value" type="text" value="[[ contact.value ]]"/>
        </div>
        <div class="col-md-2 col-lg-2">
            <div @click="removeContact($index)" class="fs1 new-green" aria-hidden="true" data-icon="&#xe04f;"></div>
        </div>
    </div>

    <add_modal id="addContact" title="联系方式" title_id="myModalContact"></add_modal>

</template>


<script>
    var Contact = Vue.extend({
        template: '#component-contact',
        props:{
            contacts: Array
        },
        methods:{
            removeContact: function (index) {
                this.contacts.splice(index, 1)
            }
        },
        events: {
            'add-new-item': function (text) {
                console.log(text);
                if (text) {
                    this.contacts.push({ key: text, value:'' });
                }
            }
        },
        components:{
            add_modal: AddModal
        }
    });
</script>